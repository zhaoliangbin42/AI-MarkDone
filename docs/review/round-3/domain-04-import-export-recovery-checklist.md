# Domain 04 Checklist：导入导出与备份恢复

## A. 书签导入（自动 + 手工）

- [x] 非法 JSON 被拒绝且有明确提示
- [x] 超大文件（>20MB）被拒绝且无脏写入
- [x] 超量条目（>10000）被拒绝且无脏写入
- [x] 重复导入后去重行为符合预期（无幽灵书签）
- [x] 文件夹路径映射正确（包含多层父路径补齐）

## B. 书签导出（自动 + 手工）

- [x] 全量导出字段完整（url/position/folderPath/platform 等）
- [x] 批量导出仅包含勾选集
- [x] 导出后再导入可闭环复原

## C. 消息导出 Markdown/PDF（自动 + 手工）

- [x] 导出标题/用户输入等动态字段被正确转义
- [x] 导出文件名非法字符被清理
- [x] 空会话/极长文本不会导致崩溃
- [x] PDF 导出渲染容器创建与清理无残留节点

## D. 异常恢复与兼容

- [ ] 导入中断后可再次导入，不出现重复脏数据
- [x] 旧版本数据迁移后可继续导入导出
- [ ] 导入导出失败会输出可定位日志（不含敏感正文）
